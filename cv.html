<!DOCTYPE html>
<html lang="fr">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Créer CV - Bac Pro SN</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
<style>

  
button {
  margin-top: 20px;
  background: linear-gradient(135deg, #1e3a8a, #2563eb);
  color: white;
  padding: 12px 24px;
  border: none;
  border-radius: 12px;
  font-weight: bold;
  cursor: pointer;
  font-size: 1rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s ease, box-shadow 0.3s ease, background 0.3s;
  margin-right: 10px;
}

button:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.2);
  background: linear-gradient(135deg, #2563eb, #1e3a8a);
}
.btn-suppr-exp {
  background: linear-gradient(135deg, #dc2626, #b91c1c);
  color: white;
  padding: 12px 24px;
  border: none;
  border-radius: 12px;
  font-weight: bold;
  cursor: pointer;
  font-size: 1rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transition: transform 0.2s ease, box-shadow 0.3s ease, background 0.3s;
  margin-top: 20px;
  margin-right: 10px;
}

.btn-suppr-exp:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
  background: linear-gradient(135deg, #b91c1c, #dc2626);
}

.btn-suppr-exp i {
  margin-right: 8px;
  font-size: 1.1em;
  vertical-align: middle;
}

button:active {
  transform: scale(0.97);
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
}


button:hover i {
  transform: scale(1.2) rotate(-5deg);
  transition: transform 0.2s ease;
}

button i {
  margin-right: 8px;
  font-size: 1.1em;
  vertical-align: middle;
}
.btn-photo {
  background: linear-gradient(135deg, #ec4899, #db2777); 
  color: white;
  padding: 12px 24px;
  border: none;
  border-radius: 12px;
  font-weight: bold;
  cursor: pointer;
  font-size: 1rem;
  box-shadow: 0 4px 12px rgba(219, 39, 119, 0.3);
  transition: transform 0.2s ease, box-shadow 0.3s ease, background 0.3s;
  margin-right: 10px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.btn-photo:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 18px rgba(219, 39, 119, 0.5);
  background: linear-gradient(135deg, #db2777, #ec4899);
}


.btn-generer { background: linear-gradient(135deg, #10b981, #059669); }
.btn-telecharger { background: linear-gradient(135deg, #f59e0b, #d97706); }
.btn-ajouter-exp { background: linear-gradient(135deg, #6366f1, #4338ca); }
.btn-photo { background: linear-gradient(135deg, #ec4899, #db2777); }
.btn-auto { background: linear-gradient(135deg, #0ea5e9, #0284c7); }

.btn-generer:hover { background: linear-gradient(135deg, #059669, #10b981); }
.btn-telecharger:hover { background: linear-gradient(135deg, #d97706, #f59e0b); }
.btn-ajouter-exp:hover { background: linear-gradient(135deg, #4338ca, #6366f1); }
.btn-photo:hover { background: linear-gradient(135deg, #db2777, #ec4899); }
.btn-auto:hover { background: linear-gradient(135deg, #0284c7, #0ea5e9); }

@media screen {


}
#cv-result {
  background-color: var(--section-bg);
  box-shadow: none;  
  border-radius: 0;
}

.cv-container {
  margin-top: 80px;  
  display: flex;
  justify-content: center;
  align-items: center;
}
.cv-wrapper {
  background-color: var(--bg-color);
  padding: 40px 0;
  display: flex;
  justify-content: center;
  align-items: center;
}




@media screen and (max-width: 1000px) {
  #cv-result {
    transform: scale(0.75);
    transform-origin: top center;
  }
}

@media print {
  body {
    margin: 0;
  }
  #cv-result {
    box-shadow: none;
    margin: 0;
    padding: 0;
    width: 100%;
    transform: none;
  }
}
.cv-classy,
.cv-classy-gris,
.cv-classy-rose {
  background: white;
  width: 210mm;
  min-height: 297mm;
  display: flex;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
  flex-direction: row;
  font-family: 'Poppins', sans-serif;
}

#cv-result {
  background-color: var(--section-bg);
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
  border-radius: 0px;
  padding: 0;
  margin: 0 auto;
  width: 21cm;
  height: 29.7cm;
  transform-origin: top center;
  overflow: hidden;
}



@keyframes floatSheet {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0px); }
}

.cv-classy .left-bar,
.cv-classy-gris .left-bar,
.cv-classy-rose .left-bar {
  width: 35%;
  padding: 40px 20px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-size: 1rem;
}

.cv-classy .left-bar {
  background: #1e3a8a;
  color: white;
}

.cv-classy-gris .left-bar {
  background: #4b5563;
  color: white;
}

.cv-classy-rose .left-bar {
  background: #f9c5d5;
  color: #1f2937;
}

.cv-classy .left-bar img,
.cv-classy-gris .left-bar img,
.cv-classy-rose .left-bar img {
  width: 120px;
  height: 120px;
  object-fit: cover;
  border-radius: 50%;
  margin-bottom: 30px;
}

.cv-classy .section-title,
.cv-classy-gris .section-title,
.cv-classy-rose .section-title {
  margin-top: 30px;
  font-weight: bold;
  font-size: 1rem;
  border-bottom: 2px solid;
  padding-bottom: 5px;
  width: 100%;
  text-align: left;
}

.cv-classy .section-title { border-color: white; }
.cv-classy-gris .section-title { border-color: white; }
.cv-classy-rose .section-title { border-color: #1f2937; }

.cv-classy .section-content,
.cv-classy-gris .section-content,
.cv-classy-rose .section-content {
  margin-top: 10px;
  font-size: 0.95rem;
  text-align: left;
}

.cv-classy .section-content ul,
.cv-classy-gris .section-content ul,
.cv-classy-rose .section-content ul {
  list-style-type: disc;
  padding-left: 20px;
}

.cv-classy .right-section,
.cv-classy-gris .right-section,
.cv-classy-rose .right-section {
  padding: 40px;
  width: 65%;
  box-sizing: border-box;
}

.cv-classy .cv-name,
.cv-classy-gris .cv-name,
.cv-classy-rose .cv-name {
  font-size: 3rem;
  font-weight: bold;
  margin-top: 0;
  margin-bottom: 30px;
}

.cv-classy .right-section h3 {
  border-bottom: 2px solid #1e3a8a;
  padding-bottom: 5px;
  font-size: 1.2rem;
  margin-top: 0;
}
.cv-classy-gris .right-section h3 {
  border-bottom: 2px solid #4b5563;
  padding-bottom: 5px;
  font-size: 1.2rem;
  margin-top: 0;
}
.cv-classy-rose .right-section h3 {
  color: #f9c5d5;
  border-bottom: 2px solid #f9c5d5;
  padding-bottom: 5px;
  font-size: 1.2rem;
  margin-top: 0;
}
.cv-classy .right-section,
.cv-classy-gris .right-section,
.cv-classy-rose .right-section {
  color: var(--text-color);
}

.cv-classy .right-section p,
.cv-classy-gris .right-section p,
.cv-classy-rose .right-section p {
  font-size: 0.9rem;
  line-height: 1.5;
}

.cv-classy .experience,
.cv-classy-gris .experience,
.cv-classy-rose .experience {
  margin-bottom: 20px;
}

.cv-classy .experience i { color: #1e3a8a; margin-right: 6px; }
.cv-classy-gris .experience i { color: #4b5563; margin-right: 6px; }
.cv-classy-rose .experience i { color: #c2185b; margin-right: 6px; }


nav button#btn-toggle-theme {
  padding-top: 8px;
  padding-bottom: 8px;
  height: 40px;
  display: flex;
  align-items: center;
}

nav a {
  height: 40px;
  display: flex;
  align-items: center;
}

/*  SECTION DIPLÔMES */
.cv-classy .diplome i,
.cv-classy-gris .diplome i,
.cv-classy-rose .diplome i {
  margin-right: 6px;
  font-style: normal;
}

.cv-classy .section-title.diplome,
.cv-classy-gris .section-title.diplome,
.cv-classy-rose .section-title.diplome {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 1rem;
  font-weight: bold;
}



#cv-result > .cv-classy,
#cv-result > .cv-classy-gris,
#cv-result > .cv-classy-rose {
  width: 100%;
  height: 100%;
  box-sizing: border-box;
}

#cv-result {
  width: 21cm;
  height: 29.7cm;
  padding: 0;
  margin: 0 auto;
  box-sizing: border-box;
  transform: scale(1);
  transform-origin: top center;
  overflow: hidden;
}

.cv-classy .right-section h3 {
  color: #1e3a8a;
  border-bottom: 2px solid #1e3a8a;
}

.cv-classy-gris .right-section h3 {
  color: #4b5563;
  border-bottom: 2px solid #4b5563;
}



:root {
  --bg-color: #ffffff; 
}

@keyframes bounceTilt {
  0% {
    transform: scale(1) rotate(0deg);
  }
  50% {
    transform: scale(1.08) rotate(-2deg);
  }
  100% {
    transform: scale(1.04) rotate(-1deg);
  }
}


body.dark-mode {
  --bg-color: #1f2937;
  --text-color: #f3f4f6;
  --section-bg: #1f2937;
  --border-color: #374151;
  --btn-bg: #2563eb;
  --btn-text: white;
  --cv-shadow: 0 0 40px rgba(0, 0, 0, 0.8);
  --cv-feuille-shadow: 0 10px 30px rgba(255, 255, 255, 0.06);
}
body.dark-mode .experience-block {
  background-color: #1e293b;
  border-color: #4b5563;     
  color: #f3f4f6;           
}
.cv-classy,
.cv-classy-gris,
.cv-classy-rose {
  background: white;
  width: 210mm;
  min-height: 297mm;
  display: flex;
  flex-direction: row;
  font-family: 'Poppins', sans-serif;
  box-shadow: none; 
  transition: box-shadow 0.3s ease;
}
body.dark-mode input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(1);
}

header {
  background: white;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  padding: 15px 30px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 999;
}
body.dark-mode header {
  background: #1e293b;
  box-shadow: 0 2px 12px rgba(59, 130, 246, 0.5);
}
.admin-link {
  color: red;
  font-size: 0.9rem;
  text-decoration: none;
  margin-right: auto;
  font-weight: bold;
}
nav {
  display: flex;
  gap: 15px;
  align-items: center;
}
nav a, nav button {
  display: flex;
  align-items: center;
  vertical-align: middle;
  gap: 8px;
  color: #374151;
  text-decoration: none;
  font-weight: 600;
  font-size: 1rem;
  padding: 8px 18px;
  border-radius: 30px;
  background-color: transparent;
  border: none;
  cursor: pointer;
  transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
}
#btn-toggle-theme {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 18px;
  font-weight: 600;
  font-size: 1rem;
  background-color: transparent;
  border: none;
  color: #374151;
  border-radius: 30px;
  cursor: pointer;
  transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
  height: 42px;
  line-height: 1;
  margin-top: 1px;
}

#btn-toggle-theme i {
  font-size: 1rem;
  line-height: 1;
  vertical-align: middle;
  position: relative;
  top: 0;
  transition: transform 0.3s ease;
}

#btn-toggle-theme:hover i {
  transform: rotate(15deg) scale(1.2);
}

nav a.active,
nav a:hover,
nav button:hover {
  background-color: #3b82f6;
  color: white;
  box-shadow: 0 0 12px 3px rgba(59, 130, 246, 0.6);
  transform: scale(1.05);
}

body.dark-mode nav a,
body.dark-mode nav button {
  color: #e0e7ff;
}

body.dark-mode nav a.active,
body.dark-mode nav a:hover,
body.dark-mode nav button:hover {
  background-color: #2563eb;
  box-shadow: 0 0 16px 4px rgba(59, 130, 246, 0.9);
}

body.dark-mode #btn-toggle-theme {
  color: #e0e7ff;
}

</style>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Playfair+Display:wght@700&family=Roboto+Slab&display=swap" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<style>

  :root {
      --bg-color: #f9fafb;
      --text-color: #1f2937;
      --section-bg: white;
      --border-color: #ccc;
      --btn-bg: #1e3a8a;
      --btn-text: white;
    }
body.dark-mode {
  --section-bg: #1f2937;
}


:root {
 --bg-color: #f9fafb;
  --cv-shadow: 0 0 40px rgba(0, 0, 0, 0.25);
 background-color: var(--cv-wrapper-bg);

}


@media screen and (max-width: 1000px) {
 .cv-wrapper {
   background-color: var(--cv-wrapper-bg);
    transform: scale(0.8);
    transform-origin: top center;
  }
}

@media screen and (max-width: 700px) {
.cv-wrapper {
  background-color: var(--cv-wrapper-bg);
    transform: scale(0.6);
    transform-origin: top center;
  }
}

body {
  background-color: var(--bg-color);
}

body.dark-mode .cv-wrapper {
  background-color: #1f2937 !important;
}

body.dark-mode #cv-result {
  background: #1f2937;
  box-shadow: 0 0 0 6px #1f2937, 0 15px 35px rgba(0, 0, 0, 0.7), 0 5px 15px rgba(0, 0, 0, 0.5);
}
.sidebar-navigation {
  position: fixed;
  top: 100px;
  left: 20px;
  display: flex;
  flex-direction: column;
  background-color: #f8f9fa;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  padding: 16px;
  z-index: 1000;
}

.nav-button {
  margin: 10px 0;
  text-decoration: none;
  font-weight: bold;
  padding: 10px 16px;
  border-radius: 12px;
  color: #333;
  background-color: white;
  transition: all 0.3s ease;
  text-align: center;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  transform-origin: center;
}

.nav-button:hover {
  transform: scale(1.1) rotate(-1.5deg);
  background-color: #1e3a8a;
  color: white;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
  animation: bounceTilt 0.4s ease forwards;
}

body.dark-mode {
  --cv-shadow: 0 0 40px rgba(0, 0, 0, 0.8);
  --cv-feuille-shadow: 0 10px 30px rgba(255, 255, 255, 0.06); 
}
#darkModeToggle {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 9999;
  background: var(--btn-bg);
  color: var(--btn-text);
  border: none;
  padding: 12px 24px;
  border-radius: 30px;
  font-weight: bold;
  box-shadow: 0 0 20px rgba(37, 99, 235, 0.6); 
  cursor: pointer;
  font-size: 1rem;
  transition: all 0.3s ease;
  transform: scale(1);
}


#darkModeToggle:hover {
  transform: scale(1.08);
  box-shadow: 0 0 30px rgba(37, 99, 235, 0.9); /
}



body.dark-mode input,
body.dark-mode textarea,
body.dark-mode select {
  background-color: #1e293b; 
  color: #f3f4f6;
  border: 1px solid #4b5563;
}
.cv-classy .right-section,
.cv-classy-gris .right-section,
.cv-classy-rose .right-section {
  color: #1f2937 !important; 
}

input::placeholder,
textarea::placeholder {
  color: #94a3b8; 
}

    body.dark-mode {
      --bg-color: #111827;
      --text-color: #f3f4f6;
      --section-bg: #1f2937;
      --border-color: #374151;
      --btn-bg: #2563eb;
      --btn-text: white;
    }

body.dark-mode #drop-zone {
  background-color: #1e293b;       
  border-color: #4b5563;           
  color: #f3f4f6;                  
}

.cv-wrapper {
  background-color: var(--bg-color);
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 60px 0;
}



body.dark-mode #drop-zone:hover {
  background-color: #334155;       
  border-color: #64748b;          
}

    body {
      font-family: 'Poppins', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      margin: 0;
      padding: 2rem;
    }

 h1 {
  text-align: center;
  font-size: 4.8rem;
  font-weight: 700;
  color: #1e3a8a;  
  margin-bottom: 40px;
  position: relative;
  animation: fadeInTitle 1s ease-out;
  z-index: 1;
}


h1::after {
  content: '';
  display: block;
  width: 0;
  height: 4px;
  background: linear-gradient(90deg, #2563eb, #1e3a8a);
  margin: 10px auto 0;
  border-radius: 10px;
  animation: underlineGrow 1.2s ease-out forwards;
  animation-delay: 0.4s;
}

@keyframes fadeInTitle {
  0% {
    opacity: 0;
    transform: translateY(-20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes underlineGrow {
  0% {
    width: 0;
    opacity: 0;
  }
  100% {
    width: 80px;
    opacity: 1;
  }
}

 .cv-section {
  max-width: 800px;
  margin: auto;
  background: var(--section-bg);
  padding: 30px;
  border-radius: 0px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  color: var(--text-color);
}
#cv-result {
  transform: scale(0.85);
  transform-origin: top center;
}

    label {
      display: block;
      margin-top: 15px;
    }
    input, textarea, select {
  width: 100%;
  padding: 14px 16px;         
  border-radius: 8px;
  border: 1px solid #ccc;
  margin-top: 8px;             
  box-sizing: border-box;
  font-size: 1.1rem;            
  font-family: 'Poppins', sans-serif;
  resize: none;               
}

    button {
      margin-top: 20px;
      background: #1e3a8a;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      font-weight: bold;
      margin-right: 10px;
    }
    .experience-block {
      border: 1px solid #ccc;
      padding: 40px 20px 20px 20px;
      border-radius: 8px;
      margin-top: 25px;
      position: relative;
      background: #f9f9f9;
    }
    .experience-block .remove-btn {
      position: absolute;
      top: 3px;
      right: 10px;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      background: #fff;
      border: 2px solid #ef4444;
      color: #ef4444;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .experience-block .remove-btn:hover {
      background-color: #ef4444;
      color: white;
    }
    #drop-zone {
      margin-top: 10px;
      padding: 20px;
      border: 2px dashed #ccc;
      text-align: center;
      border-radius: 10px;
      background-color: #f1f5f9;
      cursor: pointer;
    }
    #drop-zone:hover {
      border-color: #1e3a8a;
      background-color: #e0e7ff;
    }
    #camera-error {
      color: #dc2626;
      font-weight: bold;
      margin-top: 10px;
    }
    #photo-preview {
      margin-top: 10px;
      max-width: 120px;
      border-radius: 10px;
      display: block;
    }
    .cv-royal, .cv-elegance, .cv-creatif {
      display: flex;
      flex-wrap: wrap;
      border: 1px solid #ddd;
      border-radius: 10px;
      overflow: hidden;
      font-family: 'Poppins', sans-serif;
      margin-top: 30px;
    }
    .cv-royal .header {
      background: #1e3a8a;
      color: white;
      text-align: center;
      padding: 30px;
      width: 100%;
      font-family: 'Playfair Display', serif;
    }
    .cv-elegance .header {
      background: #fbb6ce;
      color: #1f2937;
      text-align: center;
      padding: 30px;
      width: 100%;
      font-family: 'Poppins', sans-serif;
    }
    .cv-creatif .header {
      background: #00bcd4;
      color: white;
      text-align: center;
      padding: 30px;
      width: 100%;
      font-family: 'Roboto', sans-serif;
    }
    .cv-royal .header h2, .cv-elegance .header h2, .cv-creatif .header h2 {
      font-size: 2.2rem;
      margin: 0;
    }
    .left, .right {
      box-sizing: border-box;
      padding: 20px;
    }
    .left {
      background: #f1f5f9;
      width: 35%;
    }
    .right {
      width: 65%;
    }
    h3 {
      border-bottom: 2px solid;
      padding-bottom: 4px;
      margin-top: 20px;
    }
    .cv-royal h3 {
      color: #1e3a8a;
      border-color: #1e3a8a;
    }
    .cv-elegance h3 {
      color: #ad1457;
      border-color: #ad1457;
    }
    .cv-creatif h3 {
      color: #00796b;
      border-color: #00796b;
    }
    img {
      width: 100px;
      border-radius: 50%;
      margin-bottom: 15px;
    }
#cv-result {
  transform: scale(0.85);
  transform-origin: top center;
}
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background-color: #f3f4f6;
      color: #1f2937;
      transition: background-color 0.3s, color 0.3s;
    }
    body.dark-mode {
      background-color: #121827;
      color: #e0e7ff;
    }

 header {
      background: white;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 999;
    }

    body.dark-mode header {
      background: #1e293b;
      box-shadow: 0 2px 12px rgba(59, 130, 246, 0.5);
    }

    .admin-link {
      color: red;
      font-size: 0.9rem;
      text-decoration: none;
      margin-right: auto;
      font-weight: bold;
      align-self: center;
    }

    nav {
      display: flex;
      gap: 15px;
      align-items: center;
    }

nav a,
nav button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  height: 42px;
  padding: 8px 18px;
  font-size: 1rem;
  font-weight: 600;
  text-decoration: none;
  color: #374151;
  background-color: transparent;
  border: none;
  border-radius: 30px;
  cursor: pointer;
  transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
  box-shadow: none;
  vertical-align: middle;
}

#btn-toggle-theme {
  padding: 8px 18px;
  font-size: 1rem;
  height: 42px;
  display: flex;
  align-items: center;
  justify-content: center;
}

#btn-toggle-theme i {
  font-size: 1.1rem;
  position: relative;
  top: 0;
  transition: transform 0.3s ease;
}

#btn-toggle-theme:hover i {
  transform: rotate(15deg) scale(1.2);
}

</style>
</head>

<body>

 <header>
  <a href="login.html" class="admin-link">Login admin</a>
  <nav>
    <a href="index.html"><i class="fa-solid fa-house"></i> Accueil</a>
    <a href="cv.html" class="active"><i class="fa-solid fa-file-lines"></i> Créer CV</a>
    <a href="offres.html"><i class="fa-solid fa-briefcase"></i> Offres</a>
    <a href="contact.html"><i class="fa-solid fa-envelope"></i> Contact</a>
    <button id="btn-toggle-theme">
      <i class="fa-solid fa-moon"></i> Mode sombre
    </button>
  </nav>
</header>




  <audio id="hoverSound" src="hover-sound.mp3" preload="auto"></audio>




<h1 id="accueil">Créer mon CV</h1>



<div class="cv-section">
    <label>Nom complet :</label>
    <input type="text" id="nom" placeholder="Jean Labite" />

    <label>Email :</label>
    <input type="email" id="email" placeholder="exemple@mail.com" />

    <label>Adresse :</label>
    <input type="text" id="adresse" placeholder="123 rue de la paix, Paris" />

    <label>Numéro de téléphone :</label>
    <input type="tel" id="telephone" placeholder="06 XX XX XX XX" />

    <label>Date de naissance :</label>
    <input type="date" id="dateNaissance" />

    <label>Parle de toi librement :</label>
    <textarea id="libre" rows="3" placeholder="Je suis passionné par..."></textarea>
    <button class="btn-auto" type="button" onclick="genererAutoPresentation()">
  <i class="fa-solid fa-wand-magic-sparkles"></i> Générer une présentation automatiquement
</button>

    <label>Présentation personnelle (modifiable) :</label>
    <textarea id="presentation" rows="3" placeholder="Texte généré ici..."></textarea>

    <label>Centres d'intérêt (2 Minimum) :</label>
    <textarea id="interets" rows="2" placeholder="Musique, sport, jeux vidéo..."></textarea>

    <label>Qualités (2 Minimum) :</label>
    <input type="text" id="qualites" placeholder="Motivé, organisé, curieux..." />

    <label>Compétences techniques (2 Minimum) :</label>
    <textarea id="competences" rows="3" placeholder="Réseaux, HTML/CSS, sécurité..."></textarea>

    <label>Formation :</label>
    <input type="text" id="formation" placeholder="Bac Pro SN - Lycée Maryse Condé" />

    <label>Diplômes :</label>
<textarea id="diplomes" rows="2" placeholder="BTS SIO - Lycée Jean Jaurès, Bac Pro SN - Lycée Maryse Condé"></textarea>


    <label>Expériences professionnelles :</label>
    <div id="experience-container"></div>
  <button class="btn-ajouter-exp" type="button" onclick="ajouterExperience()">
  <i class="fa-solid fa-plus"></i> Ajouter une expérience
</button>
<button class="btn-suppr-exp" onclick="supprimerDerniereExperience()">
  <i class="fa-solid fa-trash"></i> Supprimer une expérience
</button>


<div style="margin-top: 20px;">
  <label for="fileInput" class="btn-photo" style="cursor: pointer; display: inline-flex; align-items: center;">
    <i class="fa-solid fa-file-image"></i> Choisir une photo
  </label>
</div>

<input type="file" id="fileInput" accept="image/*" capture="environment" style="display:none;" onchange="chargerDepuisFichier(event)" />


    <div id="drop-zone" ondrop="dropHandler(event);" ondragover="dragOverHandler(event)">
    Glisse une image ici ou clique ci-dessus pour choisir une photo depuis tes fichiers ou ta galerie
    </div>
    <img id="photo-preview" src="" style="display:none;" alt="Aperçu de la photo" />

  <button class="btn-photo" onclick="ouvrirCamera()">
  <i class="fa-solid fa-camera"></i> Prendre une photo (Webcam)
</button>
    <video id="camera" width="100%" autoplay style="display:none;"></video>
    <canvas id="capture" style="display:none;"></canvas>
    <button onclick="prendrePhoto()" style="display:none;" id="btn-capture">✅ Utiliser cette photo</button>
    <p id="camera-error"></p>

<label>Modèle de CV :</label>
<select id="modele">
  <option value="cv-classy">Royal Classy (Bleu)</option>
  <option value="cv-classy-gris">Royal Classy (Gris)</option>
  <option value="cv-classy-rose">Royal Classy (Rose pâle)</option>
</select>



<button class="btn-generer" onclick="genererCV()">
  <i class="fa-solid fa-palette"></i> Générer mon CV
</button>
   <button class="btn-telecharger" onclick="telechargerPDF()">
  <i class="fa-solid fa-file-arrow-down"></i> Télécharger en PDF
</button>

<div class="cv-wrapper">
  <div id="cv-result">
    <div class="cv-classy">
      <div class="left-bar">
        <img src="https://www.svgrepo.com/show/384674/account-avatar-profile-user-11.svg" alt="photo profil" style="width: 120px; height: 120px; border-radius: 50%; background: #e5e7eb; padding: 10px;" />
        <p><i class="fa-solid fa-envelope"></i> exemple@mail.com</p>
        <p><i class="fa-solid fa-phone"></i> 06 12 34 56 78</p>
        <p><i class="fa-solid fa-location-dot"></i> 123 rue de la Paix, Paris</p>

        <div class="section-title">Compétences</div>
        <div class="section-content">
          <ul><li>HTML</li><li>CSS</li><li>JavaScript</li></ul>
        </div>

        <div class="section-title">Qualités</div>
        <div class="section-content">
          <ul><li>Sérieux</li><li>Organisé</li><li>Curieux</li></ul>
        </div>

        <div class="section-title">Intérêts</div>
        <div class="section-content">
          <ul><li>Informatique</li><li>Musique</li><li>Voyages</li></ul>
        </div>

        <div class="section-title diplome"> Diplômes</div>
        <div class="section-content">
          <ul>
            <li>Bac Pro SN - Lycée Maryse Condé</li>
            <li>BTS SIO - Lycée Jean Jaurès</li>
          </ul>
        </div>
      </div>

      <div class="right-section">
        <div class="cv-name">Jean Dupont</div>

        <h3>Présentation</h3>
        <p>Je suis un passionné de cybersécurité, toujours à la recherche de nouveaux challenges.</p>

        <h3>Formation</h3>
        <p>BTS SIO - Spécialité SLAM, Lycée Jean Jaurès</p>

        <h3>Expériences Professionnelles</h3>
        <div class="experience">
          <p><i class="fa-solid fa-building"></i> <strong>Pascal Elec</strong></p>
          <p><i class="fa-solid fa-calendar-days"></i>  Janvier 2024 – Mars 2024</p>
          <p><i class="fa-solid fa-user-tie"></i> Pascal Lemoine</p>
          <p><i class="fa-solid fa-location-dot"></i> Ézanville</p>
          <p><i class="fa-solid fa-wrench"></i> Rénovation d’appartements, tirage de câbles, pose de prises et interrupteurs.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="offres" style="margin-top: 100px;">
</div>
<audio id="soundToggle" src="son-sombreclair.mp3" preload="auto"></audio>




<script>
  
function ajouterExperience() {
    const container = document.getElementById('experience-container');
    const div = document.createElement('div');
    div.classList.add('experience-block');
    div.innerHTML = `
        <div class="remove-btn" onclick="this.parentElement.remove()">×</div>
        <input type="text" placeholder="Nom de l'entreprise" class="exp-nom" />
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
  <div>
    <label>Début :</label><br>
    <select class="exp-date-debut-mois">
      <option>Janvier</option><option>Février</option><option>Mars</option>
      <option>Avril</option><option>Mai</option><option>Juin</option>
      <option>Juillet</option><option>Août</option><option>Septembre</option>
      <option>Octobre</option><option>Novembre</option><option>Décembre</option>
    </select>
    <select class="exp-date-debut-annee">
      ${genererOptionsAnnees()}
    </select>
  </div>
  <div>
    <label>Fin :</label><br>
    <select class="exp-date-fin-mois">
      <option>Janvier</option><option>Février</option><option>Mars</option>
      <option>Avril</option><option>Mai</option><option>Juin</option>
      <option>Juillet</option><option>Août</option><option>Septembre</option>
      <option>Octobre</option><option>Novembre</option><option>Décembre</option>
    </select>
    <select class="exp-date-fin-annee">
      ${genererOptionsAnnees()}
    </select>
  </div>
</div>

        <input type="text" placeholder="Nom du tuteur" class="exp-tuteur" />
        <input type="text" placeholder="Adresse de l'entreprise" class="exp-adresse" />
        <textarea rows="2" placeholder="Tâches réalisées" class="exp-desc"></textarea>`;
    container.appendChild(div);
}

function supprimerDerniereExperience() {
    const container = document.getElementById('experience-container');
    if (container.lastChild) {
        container.removeChild(container.lastChild);
    }
}

function genererAutoPresentation() {
    const libre = document.getElementById('libre').value;
    const nom = document.getElementById('nom').value.trim();

    const phrases = [
        "Je suis une personne motivée et rigoureuse, toujours en quête de nouvelles compétences.",
        "Passionné par l’univers du numérique, j’aime relever des défis techniques et apprendre continuellement.",
        "Je possède un bon esprit d’équipe, une forte autonomie et une capacité d’adaptation rapide.",
        "Mon objectif est de m’épanouir dans un environnement stimulant, où je peux mettre à profit mes connaissances et ma créativité.",
        "Grâce à mes expériences, j’ai su développer une méthode de travail efficace et une communication claire."
    ];

    const presentation = `Je m'appelle ${nom || "Jean Dupont"}. ${libre.trim() ? libre.trim() + " " : ""}${phrases.sort(() => 0.5 - Math.random()).slice(0, 3).join(" ")}`;
    
    document.getElementById('presentation').value = presentation;
}


function afficherApercuPhoto() {
    const preview = document.getElementById('photo-preview');
    const val = document.getElementById('photo').value;
    if (val.startsWith('data:image') || val.startsWith('http')) {
        preview.src = val;
        preview.style.display = 'block';
    } else {
        preview.style.display = 'none';
    }
}

function ouvrirCamera() {
    const camera = document.getElementById('camera');
    const btn = document.getElementById('btn-capture');
    const erreur = document.getElementById('camera-error');
    erreur.textContent = "";

    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
        erreur.textContent = "Votre navigateur ne prend pas en charge la caméra.";
        return;
    }

    navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => {
            camera.srcObject = stream;
            camera.style.display = 'block';
            btn.style.display = 'inline-block';
        })
        .catch(err => {
            erreur.textContent = "Impossible d'accéder à la caméra. Vérifie les autorisations ou change de navigateur.";
        });
}

function prendrePhoto() {
    const video = document.getElementById('camera');
    const canvas = document.getElementById('capture');
    const context = canvas.getContext('2d');
    canvas.width = video.videoWidth;
    canvas.height = video.videoHeight;
    context.drawImage(video, 0, 0);
    const imageData = canvas.toDataURL('image/png');
    document.getElementById('photo').value = imageData;
    afficherApercuPhoto();
    video.srcObject.getTracks().forEach(track => track.stop());
    video.style.display = 'none';
    document.getElementById('btn-capture').style.display = 'none';
}

function genererCV() {
    const diplomes = document.getElementById('diplomes').value;
    const nom = document.getElementById('nom').value;
    const email = document.getElementById('email').value;
    const adresse = document.getElementById('adresse').value;
    const telephone = document.getElementById('telephone').value;
    const naissance = document.getElementById('dateNaissance').value;
    const presentation = document.getElementById('presentation').value;
    const interets = document.getElementById('interets').value;
    const qualites = document.getElementById('qualites').value;
    const competences = document.getElementById('competences').value;
    const formation = document.getElementById('formation').value;
    const modele = document.getElementById('modele').value;
    const photo = document.getElementById('photo').value;

    let experiencesHTML = "";
    const noms = document.querySelectorAll('.exp-nom');
    const debutMois = document.querySelectorAll('.exp-date-debut-mois');
const debutAnnee = document.querySelectorAll('.exp-date-debut-annee');
const finMois = document.querySelectorAll('.exp-date-fin-mois');
const finAnnee = document.querySelectorAll('.exp-date-fin-annee');
    const tuteurs = document.querySelectorAll('.exp-tuteur');
    const adresses = document.querySelectorAll('.exp-adresse');
    const descs = document.querySelectorAll('.exp-desc');

  for (let i = 0; i < noms.length; i++) {
    experiencesHTML += `
    <div class="experience">
        <p><i class="fa-solid fa-building"></i> <strong>${noms[i].value}</strong></p>
        <p><i class="fa-solid fa-calendar-days"></i>  ${debutMois[i].value} ${debutAnnee[i].value} – ${finMois[i].value} ${finAnnee[i].value}
        <p><i class="fa-solid fa-user-tie"></i> ${tuteurs[i].value}</p>
        <p><i class="fa-solid fa-location-dot"></i> ${adresses[i].value}</p>
        <p><i class="fa-solid fa-wrench"></i> ${descs[i].value}</p>
    </div>`;
}


    const photoHTML = photo ? `<img src="${photo}" alt="photo profil" style="display:block;" />` : "";
    const modeleClass = ["cv-classy", "cv-classy-gris", "cv-classy-rose"].includes(modele) ? modele : "cv-classy";

    const cvHTML = `
    <div class="${modeleClass}">
        <div class="left-bar">
            ${photo ? photoHTML : ""}
            <p><i class="fa-solid fa-envelope"></i> ${email}</p>
            <p><i class="fa-solid fa-phone"></i> ${telephone}</p>
            <p><i class="fa-solid fa-location-dot"></i> ${adresse}</p>

            <div class="section-title">Compétences</div>
            <div class="section-content"><ul>${competences.split(',').map(c => `<li>${c.trim()}</li>`).join('')}</ul></div>

            <div class="section-title">Qualités</div>
            <div class="section-content"><ul>${qualites.split(',').map(q => `<li>${q.trim()}</li>`).join('')}</ul></div>

<div class="section-title">Intérêts</div>
<div class="section-content"><ul>${interets.split(',').map(i => `<li>${i.trim()}</li>`).join('')}</ul></div>

<div class="section-title "> Diplômes</div>
<div class="section-content"><ul>${diplomes.split(',').map(d => `<li>${d.trim()}</li>`).join('')}</ul></div>

        </div>

        <div class="right-section">
            <div class="cv-name">${nom}</div>

            <h3>Présentation</h3>
            <p>${presentation}</p>

            <h3>Formation</h3>
            <p>${formation}</p>

            <h3>Expériences Professionnelles</h3>
            ${experiencesHTML}


        </div>
    </div>`;

    document.getElementById('cv-result').innerHTML = cvHTML;
}


function telechargerPDF() {
  const element = document.getElementById('cv-result');
  element.style.animation = "none";
  element.style.transform = "none";
  element.style.transformOrigin = "initial";

  // Conversion pixels → cm
  const pxToCm = px => px * 0.026458333;
  const heightInCm = pxToCm(element.offsetHeight);

  if (heightInCm > 29.7) {
    alert(`⚠️ Attention : votre CV mesure environ ${heightInCm.toFixed(1)} cm de haut et dépasse la taille A4 (29.7 cm). 
Le PDF risque d’être coupé ou généré sur plusieurs pages. Pense à réduire un peu le contenu.`);
  }

  const opt = {
    margin: 0,
    filename: 'mon_cv.pdf',
    image: { type: 'jpeg', quality: 1 },
    html2canvas: {
      scale: 2,
      useCORS: true,
      scrollY: 0,
      scrollX: 0
    },
    jsPDF: { unit: 'cm', format: 'a4', orientation: 'portrait' },
    pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }
  };

  html2pdf().set(opt).from(element).save();
}




function chargerDepuisFichier(event) {
    const file = event.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = function(e) {
        document.getElementById('photo').value = e.target.result;
        afficherApercuPhoto();
    }
    reader.readAsDataURL(file);
}

function dragOverHandler(ev) {
    ev.preventDefault();
}

function dropHandler(ev) {
    ev.preventDefault();
    const file = ev.dataTransfer.files[0];
    if (file && file.type.startsWith("image/")) {
        const reader = new FileReader();
        reader.onload = function(e) {
            document.getElementById('photo').value = e.target.result;
            afficherApercuPhoto();
        }
        reader.readAsDataURL(file);
    }
}
function genererOptionsAnnees() {
    const currentYear = new Date().getFullYear();
    let options = "";
    for (let i = currentYear; i >= currentYear - 50; i--) {
        options += `<option>${i}</option>`;
    }
    return options;
}

function toggleDarkMode() {
    const sound = document.getElementById('soundToggle');
    sound.currentTime = 0;
    sound.volume = 0.2;  
    sound.play().catch(() => {});

    const body = document.body;
    const btn = document.getElementById("darkModeToggle");
    const icon = btn.querySelector("i");

    body.classList.toggle("dark-mode");
    const isDark = body.classList.contains("dark-mode");

    icon.className = isDark ? "fa-solid fa-sun" : "fa-solid fa-moon";
    btn.innerHTML = isDark
      ? '<i class="fa-solid fa-sun"></i> Mode clair'
      : '<i class="fa-solid fa-moon"></i> Mode sombre';

    localStorage.setItem("theme", isDark ? "dark" : "light");
}


  window.addEventListener("DOMContentLoaded", () => {
    const savedTheme = localStorage.getItem("theme");
    const body = document.body;
    const btn = document.getElementById("darkModeToggle");

    if (savedTheme === "dark") {
      body.classList.add("dark-mode");
      btn.innerHTML = '<i class="fa-solid fa-sun"></i> Mode clair';
    } else {
      btn.innerHTML = '<i class="fa-solid fa-moon"></i> Mode sombre';
    }

  
    const hoverSound = document.getElementById('hoverSound');
    const navButtons = document.querySelectorAll('.nav-button');

    document.body.addEventListener('click', () => {
      hoverSound.play().catch(() => {});
      hoverSound.pause();
      hoverSound.currentTime = 0;
    }, { once: true });

    navButtons.forEach(btn => {
      btn.addEventListener('mouseenter', () => {
        hoverSound.currentTime = 0;
        hoverSound.volume = 0.2;
        hoverSound.play();
      });
    });
  });

function genererCV() {
  const nom = document.getElementById('nom').value.trim();
  const email = document.getElementById('email').value.trim();
  if (!nom || !email) {
    alert("⚠️ Merci de remplir au minimum le nom complet et l’email.");
    return;
  }

}
  const btnToggle = document.getElementById('btn-toggle-theme');
    btnToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      btnToggle.innerHTML = isDark
        ? '<i class="fa-solid fa-sun"></i> Mode clair'
        : '<i class="fa-solid fa-moon"></i> Mode sombre';
    });
    
</script>
</body>
</html>

